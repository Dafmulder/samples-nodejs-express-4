<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>App</title>
    <link href="/assets/css/okta-sign-in.min.css" type="text/css" rel="stylesheet"/>
    <link href="/assets/css/okta-theme.css" type="text/css" rel="stylesheet"/>
    <link href="/assets/css/hljs/tomorrow.css" type="text/css" rel="stylesheet"/>
    <link href="/assets/css/semantic.min.css" type="text/css" rel="stylesheet"/>
    <link href="/assets/css/samples.css" type="text/css" rel="stylesheet"/>
    <base href="/"/>
  </head>
  <body id="samples">
    <div class="ui inverted left fixed vertical menu">
      <a id="item-overview" class="item" href="/">Home</a>
      <div id="section-authorization-code" class="item">
        <div class="menu">
          {{#isLoggedIn}}
            <a id="profile-button" data-se="profile" class="item" href="/profile">
              My Profile
            </a>
            <a id="logout-button" data-se="logout" class="item" href="/logout">
              Logout
            </a>
          {{/isLoggedIn}}
        </div>
      </div>
    </div>

    <div id="content" class="ui padded grid relaxed">
      <div id="doc" class="column eight wide">
        <div class="doc-overview">
          <h2 class="ui dividing header" data-se="overview-doc-header">
            My Profile
          </h2>
          <p>Hello, {{userinfo.name}}. Below is the information that was read from the <a href="https://developer.okta.com/docs/api/resources/oidc.html#get-user-information">User Info Endpoint</a>
            and persisted by the <a href="https://github.com/okta/okta-oidc-js/tree/master/packages/oidc-middleware">Okta OIDC Middleware Library</a> at <code>req.userinfo</code>.
          </p>
          <p>This route is protected with the <code>oidc.ensureAuthenticated()</code> middleware, which will ensure that this page cannot be accessed until you have authenticated.</p>
        </div>
        <table class="ui table compact collapsing">
          <thead>
            <tr>
              <th>Claim</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody>
            {{#attributes}}
              <tr>
                <td>{{0}}</td>
                <td id="claim-{{0}}">{{1}}</td>
              </tr>
            {{/attributes}}
          </tbody>
        </table>
      </div>
      <div class="column seven wide sample-col right floated">
        <h3>Server Configuration</h3>
        <p>This server has been configured with the following settings:</p>
        <table class="ui table compact collapsing">
          <thead>
            <tr>
              <th>Setting</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Issuer</td>
              <td>{{oidcConfig.issuer}}</td>
            </tr>
            <tr>
              <td>Client ID</td>
              <td>{{oidcConfig.clientId}}</td>
            </tr>
            <tr>
              <td>Client Secret</td>
              <td>{{oidcConfig.clientSecret}}</td>
            </tr>
            <tr>
              <td>Redirect Uri</td>
              <td>{{oidcConfig.redirectUri}}</td>
            </tr>
            <tr>
              <td>Requested Scope</td>
              <td>{{oidcConfig.scope}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
